[mypy]
mypy_path = ./stubs
ignore_missing_imports = False
show_error_codes = True
python_version = 3.11
# Gradually expanding coverage beyond the initial three files.
files = somabrain/memory_client.py,somabrain/audit.py,somabrain/config.py,somabrain/memstore.py,somabrain/opa/client.py,somabrain/services/memory_sync_worker.py

# Exclude duplicate top-level entrypoints and heavy/non-essential paths for type checking
exclude = ^(services/(predictor-(agent|action))/main\.py|benchmarks/|examples/|libs/kafka_cog/)

# Default settings (keep noise low while we expand coverage)
warn_unused_ignores = False
warn_redundant_casts = False

# Per-module strictness can be turned on as modules are cleaned up
[mypy-somabrain.memstore]
disallow_untyped_defs = True

[mypy-somabrain.opa.client]
disallow_untyped_defs = True

[mypy-somabrain.services.memory_sync_worker]
disallow_untyped_defs = True
