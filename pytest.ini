[pytest]
# Consolidated marker definitions – duplicate sections cause pytest to raise an
# error. All markers are listed under a single ``markers`` key.
markers =
    dev: run tests in dev mode (default)
    strict: run tests with strict‑real mode enabled
    full: run tests with full‑stack mode enabled
    integration: mark tests as integration (requires external services like Redis/Kafka/OPA)
    learning: mark tests that validate live adaptation/learning behavior

# Run only the recall‑related tests (and the direct health check) to avoid
# importing modules that depend on unavailable external services.
# Run only the recall integration test; the direct TestClient health test
# interferes with background tasks in the full app and is not required for the
# recall‑quality objective.
addopts = -ra -q -k "test_recall"
testpaths = tests
filterwarnings =
    ignore::DeprecationWarning
